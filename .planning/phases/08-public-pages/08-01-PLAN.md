---
phase: 08-public-pages
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - app/(marketing)/layout.tsx
  - app/(marketing)/page.tsx
  - components/marketing/hero.tsx
  - components/marketing/features.tsx
  - components/marketing/cta-section.tsx
autonomous: true

must_haves:
  truths:
    - "Visitor sees AvisLoop branding and value proposition on landing page"
    - "Visitor sees clear CTAs to sign up or view pricing"
    - "Visitor sees product features listed"
    - "Marketing pages have consistent header with Login/Sign Up buttons"
    - "Marketing pages have footer with company info"
  artifacts:
    - path: "app/(marketing)/layout.tsx"
      provides: "Marketing layout with navbar and footer"
      min_lines: 40
    - path: "app/(marketing)/page.tsx"
      provides: "Landing page with hero, features, CTA"
      min_lines: 50
    - path: "components/marketing/hero.tsx"
      provides: "Hero section component"
      min_lines: 20
  key_links:
    - from: "app/(marketing)/page.tsx"
      to: "/auth/sign-up"
      via: "CTA button Link"
      pattern: "href.*auth/sign-up"
    - from: "app/(marketing)/layout.tsx"
      to: "/pricing"
      via: "Navbar Link"
      pattern: "href.*pricing"
---

<objective>
Create the marketing layout with route group organization and build the landing page with hero, features, and CTA sections.

Purpose: Visitors need a compelling entry point that explains what AvisLoop does and why they should sign up. The landing page is the primary conversion funnel for new users.

Output: Marketing route group with shared layout (navbar, footer) and landing page that clearly communicates the product value proposition.
</objective>

<execution_context>
@C:\Users\aanth\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\aanth\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-public-pages/08-RESEARCH.md

# Existing files for reference
@app/layout.tsx
@middleware.ts
@components/ui/button.tsx
@components/theme-switcher.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create marketing route group with layout</name>
  <files>
    app/(marketing)/layout.tsx
  </files>
  <action>
Create the marketing route group structure and layout:

1. Create `app/(marketing)/layout.tsx` with:
   - Navbar with AvisLoop logo (text, linked to /)
   - Nav links: "Pricing" (link to /pricing)
   - Right side: ThemeSwitcher, Login button (ghost variant, link to /auth/login), Sign Up button (default variant, link to /auth/sign-up)
   - Main content area (children)
   - Footer with 4 columns: Company info, Product links, Company links, Legal links
   - Use existing shadcn Button component with asChild for links
   - Container max-width for consistent width
   - Mobile responsive: hide some nav items on mobile (can use hidden md:flex pattern)

Use Tailwind classes consistent with existing dashboard patterns. Keep as Server Component (no "use client").

Note: The route group `(marketing)` means files inside render at root URLs (page.tsx renders at /, not /marketing).
  </action>
  <verify>
Run `pnpm typecheck` - no errors in layout file
  </verify>
  <done>
Marketing layout exists with navbar (logo, pricing link, login/signup buttons) and footer (4-column grid with company info and links)
  </done>
</task>

<task type="auto">
  <name>Task 2: Create landing page with hero section</name>
  <files>
    app/(marketing)/page.tsx
    components/marketing/hero.tsx
    components/marketing/features.tsx
    components/marketing/cta-section.tsx
  </files>
  <action>
Create the landing page that clearly communicates AvisLoop's value proposition:

1. Create `components/marketing/hero.tsx`:
   - Large headline: "Request Reviews. One Click. Done."
   - Subheadline: "Make requesting reviews so simple that business owners actually do it. One contact, one click, done."
   - Two CTA buttons: "Start Free Trial" (primary, links to /auth/sign-up), "View Pricing" (outline, links to /pricing)
   - Server Component (no "use client")
   - Use existing Button component with asChild and Link

2. Create `components/marketing/features.tsx`:
   - Section header: "Everything you need to get more reviews"
   - 3-4 feature cards using grid layout:
     - "One-Click Sending" - Send review requests in seconds
     - "Contact Management" - Keep track of all your customers
     - "Email Templates" - Customize your message
     - "Track Everything" - See delivery status and history
   - Use lucide-react icons (Mail, Users, FileText, BarChart or similar)
   - Server Component

3. Create `components/marketing/cta-section.tsx`:
   - Final CTA section at bottom
   - Headline: "Ready to get more reviews?"
   - Subheadline: "Start with 25 free sends. No credit card required."
   - Single CTA button: "Start Free Trial" (primary, links to /auth/sign-up)
   - Server Component

4. Create `app/(marketing)/page.tsx`:
   - Add static metadata export for SEO:
     - title: "AvisLoop - Simple Review Requests for Busy Businesses"
     - description: "Request reviews with one click. No complex campaigns, no forgotten follow-ups. Just simple review requests that actually get sent."
     - openGraph metadata
   - Import and render: Hero, Features, CTASection
   - Server Component

Use Tailwind for styling. Keep components simple and focused. Use consistent spacing (py-16 or py-20 for sections).
  </action>
  <verify>
1. Run `pnpm typecheck` - no errors
2. Run `pnpm lint` - no errors
3. Run `pnpm dev` and visit http://localhost:3000 - landing page renders
  </verify>
  <done>
Landing page at / shows:
- Hero with value prop headline and CTAs
- Features section with 4 feature cards
- Final CTA section
- All sections styled consistently
- Metadata configured for SEO
  </done>
</task>

<task type="auto">
  <name>Task 3: Move existing page.tsx and update middleware</name>
  <files>
    app/page.tsx
  </files>
  <action>
The current `app/page.tsx` is boilerplate from the Next.js Supabase starter template. Since the new landing page is at `app/(marketing)/page.tsx`, there will be a conflict.

1. Delete or rename the existing `app/page.tsx`:
   - Option A: Delete it (recommended - it's just template boilerplate)
   - The new `app/(marketing)/page.tsx` will serve the `/` route

2. Verify middleware allows public access:
   - Review `middleware.ts` - it should NOT protect `/` or `/pricing`
   - Current middleware only protects `/dashboard` and `/protected` - this is correct
   - No changes needed to middleware

Note: When both `app/page.tsx` and `app/(marketing)/page.tsx` exist, Next.js will use `app/page.tsx`. We need to remove it so the marketing route group takes over.
  </action>
  <verify>
1. Run `pnpm dev`
2. Visit http://localhost:3000 - should show new landing page (not old boilerplate)
3. Visit http://localhost:3000/dashboard (while logged out) - should redirect to /login
  </verify>
  <done>
Old boilerplate page.tsx removed, new marketing landing page serves at /
  </done>
</task>

</tasks>

<verification>
After completing all tasks:

1. **Landing page renders at /**
   - Run `pnpm dev`
   - Visit http://localhost:3000
   - See hero with "Request Reviews. One Click. Done."
   - See features section
   - See final CTA

2. **Marketing layout applied**
   - Navbar shows AvisLoop logo, Pricing link, Login/Sign Up buttons
   - Footer shows 4-column layout with links

3. **CTAs work**
   - Click "Start Free Trial" - navigates to /auth/sign-up
   - Click "View Pricing" - navigates to /pricing (404 expected until Plan 02)
   - Click "Login" in navbar - navigates to /auth/login

4. **Build passes**
   - Run `pnpm build` - no errors
</verification>

<success_criteria>
- Landing page at / clearly communicates AvisLoop value proposition
- Marketing layout provides consistent navbar and footer
- All CTAs link to correct pages
- Page is Server Component (no client-side JS for marketing content)
- Metadata configured for SEO
- Build passes with no errors
</success_criteria>

<output>
After completion, create `.planning/phases/08-public-pages/08-01-SUMMARY.md`
</output>
