---
phase: 45
plan: 45-01
title: "Add soft button variant to CVA + dashboard button audit"
wave: 1
depends_on: []
files_modified:
  - components/ui/button.tsx
  - components/dashboard/dashboard-client.tsx
  - components/dashboard/attention-alerts.tsx
  - components/dashboard/ready-to-send-queue.tsx
autonomous: true
requirements: [BTN-01, BTN-02]
---

## Objective

Add a `soft` button variant to the CVA definition in `button.tsx`, then switch all secondary dashboard action buttons from `outline` to `soft` so they stop competing visually with primary CTAs.

## Context

@components/ui/button.tsx — CVA definition with 6 existing variants
@components/dashboard/dashboard-client.tsx — "View Campaigns" header button (line 261)
@components/dashboard/attention-alerts.tsx — Retry + contextual action buttons (lines 102, 112, 120)
@components/dashboard/ready-to-send-queue.tsx — Skip, Queue, Queued, Will Replace buttons (lines 271, 284, 304, 328, 362, 375)
@.planning/phases/45-foundation-visual-changes/45-RESEARCH.md — full audit of which buttons to switch

## Tasks

<task id="1">
### Add `soft` variant to button.tsx CVA

In `components/ui/button.tsx`, add a `soft` entry to the `variants.variant` object, positioned after `secondary` and before `ghost`.

**Exact edit — in the CVA variants object, after the `secondary` line:**

```typescript
secondary:
  "bg-secondary text-secondary-foreground hover:bg-secondary/80",
soft:
  "bg-muted text-muted-foreground hover:bg-muted/80 dark:bg-muted/60 dark:hover:bg-muted/80",
ghost:
```

No TypeScript type changes are needed — `VariantProps<typeof buttonVariants>` derives from the CVA object automatically and will include `'soft'` in the variant union.

**Verification:** `pnpm typecheck` passes. The string `soft:` appears in `button.tsx` inside the CVA variants block.
</task>

<task id="2">
### Switch dashboard buttons from outline to soft

Change `variant="outline"` to `variant="soft"` on the following buttons. Do NOT change buttons that are primary CTAs, destructive actions, or ghost icon buttons.

**File: `components/dashboard/dashboard-client.tsx`**
- Line 261: "View Campaigns" button — change `variant="outline"` to `variant="soft"`

**File: `components/dashboard/attention-alerts.tsx`**
- Line 103: "Retry" button (failed_send alert) — change `variant="outline"` to `variant="soft"`
- Line 112: Contextual action button (bounced_email) — change `variant="outline"` to `variant="soft"`
- Line 120: Contextual action button (unresolved_feedback) — change `variant="outline"` to `variant="soft"`

**File: `components/dashboard/ready-to-send-queue.tsx`**
- Line 271: "Skip" conflict resolution button — change `variant="outline"` to `variant="soft"`
- Line 284: "Queue" conflict resolution button — change `variant="outline"` to `variant="soft"`
- Line 304: "Queued" dropdown trigger — change `variant="outline"` to `variant="soft"`
- Line 328: "Will Replace" dropdown trigger — change `variant="outline"` to `variant="soft"`
- Line 362: "Skip" pre-flight conflict button — change `variant="outline"` to `variant="soft"`
- Line 375: "Queue" pre-flight conflict button — change `variant="outline"` to `variant="soft"`

**Do NOT change:**
- Line 411: "Send One-Off" button — keep `variant="outline"` (this is the primary action for completed one-off rows, not a secondary action)
- Any `variant="ghost"` buttons (dismiss/overflow icons)
- Any `variant="default"` buttons (Replace, Complete — these are primary CTAs)

**Verification:** `pnpm typecheck` passes. grep for `variant="outline"` in these three dashboard files — only "Send One-Off" (line ~411 in ready-to-send-queue.tsx) should remain as outline. All other action buttons should now be `variant="soft"`.
</task>

## Verification

```bash
pnpm typecheck   # must pass — soft variant is type-safe
pnpm lint        # must pass — no new lint issues
```

### must_haves (goal-backward from phase success criteria)

- [ ] `button.tsx` CVA object contains a `soft` key with value `"bg-muted text-muted-foreground hover:bg-muted/80 dark:bg-muted/60 dark:hover:bg-muted/80"`
- [ ] `dashboard-client.tsx` "View Campaigns" button uses `variant="soft"`
- [ ] `attention-alerts.tsx` Retry and contextual action buttons (3 occurrences) use `variant="soft"`
- [ ] `ready-to-send-queue.tsx` secondary conflict buttons (6 occurrences: Skip x2, Queue x2, Queued, Will Replace) use `variant="soft"`
- [ ] `ready-to-send-queue.tsx` "Send One-Off" button still uses `variant="outline"` (not changed)
- [ ] `pnpm typecheck` passes
- [ ] `pnpm lint` passes
