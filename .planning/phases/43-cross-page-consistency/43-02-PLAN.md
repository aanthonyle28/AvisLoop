---
phase: 43-cross-page-consistency
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - components/jobs/empty-state.tsx
  - components/history/empty-state.tsx
  - components/feedback/feedback-list.tsx
  - components/dashboard/analytics-service-breakdown.tsx
  - components/customers/empty-state.tsx
autonomous: true

must_haves:
  truths:
    - "Every page's empty state has an icon inside a rounded circle background"
    - "Every page's empty state uses text-2xl for the title"
    - "Every page's empty state has a subtitle with max-w-md and mb-8 spacing before the action button"
    - "Each empty state's action button is contextually relevant to the page"
  artifacts:
    - path: "components/jobs/empty-state.tsx"
      provides: "Jobs empty state with icon circle and text-2xl title"
      contains: "rounded-full bg-muted p-6"
    - path: "components/history/empty-state.tsx"
      provides: "History empty state with enlarged circle and title"
      contains: "rounded-full bg-muted p-6"
    - path: "components/feedback/feedback-list.tsx"
      provides: "Feedback empty state with icon circle and structured layout"
      contains: "rounded-full bg-muted p-6"
    - path: "components/dashboard/analytics-service-breakdown.tsx"
      provides: "Analytics empty state with text-2xl title"
      contains: "text-2xl"
    - path: "components/customers/empty-state.tsx"
      provides: "Customers empty state with normalized icon size"
      contains: "h-8 w-8"
  key_links:
    - from: "components/jobs/empty-state.tsx"
      to: "components/jobs/jobs-client.tsx"
      via: "EmptyState import"
      pattern: "import.*EmptyState.*from.*empty-state"
    - from: "components/history/empty-state.tsx"
      to: "components/history/history-client.tsx"
      via: "EmptyState import"
      pattern: "import.*EmptyState.*from.*empty-state"
---

<objective>
Normalize all empty state components to match the campaigns page reference pattern: icon in a `rounded-full bg-muted p-6` circle, `text-2xl` title, subtitle with `max-w-md mb-8`, and a contextual action button.

Purpose: Create a consistent visual language across all pages so users see the same empty state pattern regardless of which page they land on. Currently, jobs uses a dashed border card, history uses a smaller circle, feedback has no circle, and analytics uses text-xl instead of text-2xl.

Output: All 5 empty state components updated to match the reference pattern from `campaigns-shell.tsx` (lines 70-84).
</objective>

<execution_context>
@C:\Users\aanth\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\aanth\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/43-cross-page-consistency/43-RESEARCH.md

Reference (the gold standard — campaigns-shell.tsx lines 70-84):
```tsx
<div className="flex flex-col items-center justify-center py-16 px-4 text-center">
  <div className="rounded-full bg-muted p-6 mb-6">
    <Megaphone className="h-8 w-8 text-muted-foreground" />
  </div>
  <h2 className="text-2xl font-semibold tracking-tight mb-2">
    No campaigns yet
  </h2>
  <p className="text-muted-foreground mb-8 max-w-md">
    Set up a campaign to automatically request reviews when you complete jobs.
  </p>
  <Button onClick={...}>
    <Plus className="mr-2 h-4 w-4" />
    Create Campaign
  </Button>
</div>
```

Key properties of the reference:
- Outer: `flex flex-col items-center justify-center py-16 px-4 text-center`
- Icon circle: `rounded-full bg-muted p-6 mb-6`
- Icon: `className="h-8 w-8 text-muted-foreground"` (NOT `size={48}`, use className)
- Title: `text-2xl font-semibold tracking-tight mb-2` in `<h2>`
- Subtitle: `text-muted-foreground mb-8 max-w-md` in `<p>`
- Button: standard `<Button>` with icon

Current components vs reference:
@components/customers/empty-state.tsx — CLOSE: uses size={48} instead of h-8 w-8
@components/jobs/empty-state.tsx — WRONG: dashed border card, no circle, text-lg
@components/history/empty-state.tsx — PARTIAL: p-4 circle (should be p-6), text-lg title
@components/feedback/feedback-list.tsx — WRONG: no circle wrapper, text-lg, no action
@components/dashboard/analytics-service-breakdown.tsx — CLOSE: text-xl (should be text-2xl), mb-6 (should be mb-8)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update jobs, history, and feedback empty states to match reference</name>
  <files>
    components/jobs/empty-state.tsx
    components/history/empty-state.tsx
    components/feedback/feedback-list.tsx
  </files>
  <action>
    **UPDATE `components/jobs/empty-state.tsx`:**

    The jobs empty state currently uses a dashed border card pattern (`rounded-lg border border-dashed border-border py-16`) with no icon circle and `text-lg` title. Rewrite BOTH variants (no-filters and has-filters) to match the reference.

    No-filters variant (the primary empty state):
    - Remove: `rounded-lg border border-dashed border-border` wrapper
    - Add: `flex flex-col items-center justify-center py-16 px-4 text-center` wrapper
    - Add icon circle: `<div className="rounded-full bg-muted p-6 mb-6">` containing `<Briefcase className="h-8 w-8 text-muted-foreground" />`
    - Title: change `<h3 className="mt-4 text-lg font-medium">` to `<h2 className="text-2xl font-semibold tracking-tight mb-2">`
    - Subtitle: change `<p className="mt-1 text-sm text-muted-foreground">` to `<p className="text-muted-foreground mb-8 max-w-md">`
    - Update subtitle text to: "Create your first job to start tracking completed work and collecting reviews."
    - Button: remove `className="mt-4"` (spacing now handled by mb-8 on subtitle)

    Has-filters variant:
    - Remove: `rounded-lg border border-dashed border-border` wrapper
    - Add: `flex flex-col items-center justify-center py-16 px-4 text-center` wrapper
    - Add icon circle: `<div className="rounded-full bg-muted p-6 mb-6">` containing `<FunnelSimple className="h-8 w-8 text-muted-foreground" />`
    - Title: change to `<h2 className="text-2xl font-semibold tracking-tight mb-2">No jobs match your filters</h2>`
    - Subtitle: change to `<p className="text-muted-foreground mb-8 max-w-md">Try adjusting your filters or clear them to see all jobs.</p>`
    - Button: remove `className="mt-4"`

    Keep all existing props and function signature unchanged. Keep all existing imports.

    **UPDATE `components/history/empty-state.tsx`:**

    The history empty state is close but uses smaller circle (`p-4`) and smaller title (`text-lg`). Update both variants.

    No-filters variant:
    - Icon circle: change `p-4 mb-4` to `p-6 mb-6`
    - Icon: change `size={32}` to `className="h-8 w-8"` and keep `weight="regular" className="text-muted-foreground"`
    - Title: change `<h3 className="text-lg font-semibold mb-2">` to `<h2 className="text-2xl font-semibold tracking-tight mb-2">`
    - Subtitle: change `max-w-sm mb-6` to `mb-8 max-w-md`
    - Update subtitle text to: "Once you complete a job and it enrolls in a campaign, messages will appear here."

    Has-filters variant:
    - Icon circle: change `p-4 mb-4` to `p-6 mb-6`
    - Icon: change `size={32}` to `className="h-8 w-8"`
    - Title: change `<h3 className="text-lg font-semibold mb-2">` to `<h2 className="text-2xl font-semibold tracking-tight mb-2">`
    - Subtitle: change `max-w-sm` to `max-w-md`

    **UPDATE `components/feedback/feedback-list.tsx`:**

    The feedback empty state is missing the icon circle, uses `text-lg`, and has no action button. Rewrite the empty state block within FeedbackList.

    Current (lines 12-19):
    ```tsx
    <div className="text-center py-12 px-4">
      <ChatCircle size={48} weight="regular" className="mx-auto text-muted-foreground/50 mb-4" />
      <h3 className="text-lg font-medium mb-1">No feedback yet</h3>
      <p className="text-muted-foreground text-sm">
        {emptyMessage || '...'}
      </p>
    </div>
    ```

    Replace with:
    ```tsx
    <div className="flex flex-col items-center justify-center py-16 px-4 text-center">
      <div className="rounded-full bg-muted p-6 mb-6">
        <ChatCircle className="h-8 w-8 text-muted-foreground" />
      </div>
      <h2 className="text-2xl font-semibold tracking-tight mb-2">
        No feedback yet
      </h2>
      <p className="text-muted-foreground max-w-md">
        {emptyMessage || 'When customers share feedback through your review funnel, it will appear here.'}
      </p>
    </div>
    ```

    Note: Feedback has no action button by design (there is nothing the user can do to generate feedback — it comes from the review funnel). The subtitle serves as guidance. Remove `mb-8` from the subtitle since there is no button after it.

    Also update the ChatCircle import: change from `import { ChatCircle } from '@phosphor-icons/react/dist/ssr'` to use `className="h-8 w-8"` instead of `size={48}`. Keep the `/dist/ssr` import path since this is a server component.
  </action>
  <verify>
    1. `pnpm typecheck` passes
    2. `pnpm lint` passes
    3. Verify jobs empty state has `rounded-full bg-muted p-6` (grep)
    4. Verify history empty state has `p-6 mb-6` circle (grep)
    5. Verify feedback empty state has `rounded-full bg-muted p-6` circle (grep)
    6. Verify no empty state uses `text-lg` for titles (grep across all 3 files — should be text-2xl)
    7. Verify no empty state uses `border-dashed` (grep — should be zero matches in empty-state files)
  </verify>
  <done>Jobs, history, and feedback empty states match the campaigns reference pattern: icon in rounded circle (p-6), text-2xl title, max-w-md subtitle, and contextual action (or guidance text for feedback).</done>
</task>

<task type="auto">
  <name>Task 2: Normalize customers and analytics empty states to exact reference</name>
  <files>
    components/customers/empty-state.tsx
    components/dashboard/analytics-service-breakdown.tsx
  </files>
  <action>
    **UPDATE `components/customers/empty-state.tsx`:**

    The customers empty state is close to the reference but uses `size={48}` on the icon instead of `className="h-8 w-8"`. This produces a slightly larger icon than the reference.

    In `CustomersEmptyState`:
    - Change `<AddressBook size={48} weight="regular" className='text-muted-foreground' />` to `<AddressBook className='h-8 w-8 text-muted-foreground' weight="regular" />`
    - Everything else in `CustomersEmptyState` is already correct (p-6 circle, text-2xl title, mb-8 max-w-md subtitle, action button). Leave it as-is.

    In `CustomersFilteredEmptyState`:
    - Change icon circle from `p-4 mb-4` to `p-6 mb-6`
    - Change `<Users size={32}` to `<Users className="h-8 w-8"`
    - Change title from `<h3 className='text-lg font-semibold mb-2'>` to `<h2 className='text-2xl font-semibold tracking-tight mb-2'>`
    - Change subtitle from `max-w-sm` to `max-w-md`

    **UPDATE `components/dashboard/analytics-service-breakdown.tsx`:**

    The analytics empty state uses `text-xl` instead of `text-2xl`, `size={32}` instead of className, and `mb-6 max-w-sm` instead of `mb-8 max-w-md`.

    In the empty state block (lines 18-31):
    - Icon: change `<ChartBar size={32}` to `<ChartBar className="h-8 w-8"`
    - Title: change `text-xl` to `text-2xl`
    - Subtitle: change `mb-6 max-w-sm` to `mb-8 max-w-md`
    - Update subtitle text to: "Analytics appear once campaigns start sending. Complete a job to kick off your first campaign."

    Leave all other code in the component unchanged (the table, percentage bars, etc. are unrelated to the empty state).
  </action>
  <verify>
    1. `pnpm typecheck` passes
    2. `pnpm lint` passes
    3. Verify customers empty state uses `h-8 w-8` (not size={48}): grep for `size=` in the file — should match zero in icon elements
    4. Verify analytics empty state uses `text-2xl` (not text-xl): grep confirms
    5. Verify all 5 empty state files use consistent pattern:
       - `rounded-full bg-muted p-6 mb-6` — present in all
       - `text-2xl font-semibold tracking-tight` — present in all titles
       - `max-w-md` — present in all subtitles
       - `h-8 w-8` — present in all icons
  </verify>
  <done>Customers and analytics empty states normalized to exact reference pattern. All 5 empty state components (jobs, history, feedback, customers, analytics) now use identical structure: p-6 icon circle with h-8 w-8 icon, text-2xl title, max-w-md subtitle, and contextual action button.</done>
</task>

</tasks>

<verification>
1. `pnpm typecheck` — all TypeScript types resolve correctly
2. `pnpm lint` — no lint errors
3. Cross-check all 5 empty state components for consistent pattern:
   - Icon circle: `rounded-full bg-muted p-6 mb-6` in all 5
   - Icon size: `h-8 w-8` (className, not `size=` prop) in all 5
   - Title: `text-2xl font-semibold tracking-tight mb-2` in all 5
   - Subtitle: `text-muted-foreground ... max-w-md` in all 5
4. No empty state uses the old dashed border card pattern
5. No empty state uses `text-lg` for titles
6. Each empty state has an appropriate action:
   - Jobs: "Add Job" button (triggers openAddJob)
   - Customers: "Add Your First Job" button (triggers openAddJob)
   - History: "Add a Job" link button (links to /jobs)
   - Feedback: guidance text only (no button)
   - Analytics: "Add your first job" button (triggers openAddJob)
</verification>

<success_criteria>
- All 5 empty state components visually match the campaigns reference pattern
- Icon circles are identical size and styling across all pages
- Titles are identical font size and weight across all pages
- Action buttons are contextually appropriate per page
- `pnpm typecheck` and `pnpm lint` both pass clean
</success_criteria>

<output>
After completion, create `.planning/phases/43-cross-page-consistency/43-02-SUMMARY.md`
</output>
