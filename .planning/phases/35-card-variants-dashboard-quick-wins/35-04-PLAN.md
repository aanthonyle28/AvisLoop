---
phase: 35-card-variants-dashboard-quick-wins
plan: 04
type: execute
wave: 2
depends_on: ["35-02"]
files_modified:
  - components/billing/usage-warning-banner.tsx
  - components/billing/subscription-status.tsx
  - components/billing/usage-display.tsx
  - components/send/send-page-client.tsx
  - components/settings/integrations-section.tsx
  - components/campaigns/campaign-form.tsx
  - components/login-form.tsx
  - components/sign-up-form.tsx
  - components/forgot-password-form.tsx
  - components/update-password-form.tsx
  - components/business-settings-form.tsx
  - components/customers/add-customer-sheet.tsx
  - components/customers/edit-customer-sheet.tsx
  - components/onboarding/steps/business-basics-step.tsx
  - components/onboarding/steps/business-step.tsx
  - components/onboarding/steps/customer-step.tsx
  - components/onboarding/steps/review-destination-step.tsx
  - components/onboarding/steps/services-offered-step.tsx
  - components/settings/settings-tabs.tsx
  - components/settings/personalization-section.tsx
  - components/send/sms-character-counter.tsx
  - components/templates/sms-preview.tsx
  - components/templates/message-template-form.tsx
  - components/send/stat-strip.tsx
autonomous: true

must_haves:
  truths:
    - "Warning banners use bg-warning-bg, border-warning-border, text-warning, text-warning-foreground instead of hardcoded amber Tailwind classes"
    - "Form validation error text uses text-error-text instead of text-red-500 or text-red-600"
    - "Danger zone borders/text use border-destructive/30 and text-destructive instead of hardcoded red Tailwind classes"
    - "AI personalization sparkle uses text-warning instead of text-amber-500"
    - "SMS character counters use text-warning and text-destructive instead of hardcoded amber/red"
    - "No hardcoded amber-*, red-500, or red-600 classes remain in the listed files (except data-viz/stars which are in other files)"
  artifacts:
    - path: "components/billing/usage-warning-banner.tsx"
      provides: "Warning banner using semantic tokens"
    - path: "components/login-form.tsx"
      provides: "Form validation using error-text token"
  key_links:
    - from: "components/billing/usage-warning-banner.tsx"
      to: "app/globals.css"
      via: "bg-warning-bg CSS variable"
      pattern: "bg-warning-bg"
---

<objective>
Replace hardcoded Tailwind color-scale classes with semantic tokens across Categories A (warning banners), B (form validation), J (danger zone), K (AI indicators), and O (SMS character counters) from the Tier 2 Color Audit — approximately 100 occurrences across 24 files.

Purpose: Eliminates hardcoded color-scale classes in favor of theme-aware semantic tokens, making the design system consistent and dark-mode-ready via a single source of truth.
Output: 24 component files updated to use warning, error-text, destructive, and warning tokens.
</objective>

<execution_context>
@C:\Users\aanth\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\aanth\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/STATE.md
@.planning/phases/33-hardcoded-color-audit/TIER2-COLOR-AUDIT.md (canonical reference for replacement mapping)
@.planning/phases/35-card-variants-dashboard-quick-wins/35-02-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace Category A (warning banners) and Category K (AI indicators)</name>
  <files>
    components/billing/usage-warning-banner.tsx,
    components/billing/subscription-status.tsx,
    components/billing/usage-display.tsx,
    components/send/send-page-client.tsx,
    components/settings/integrations-section.tsx,
    components/campaigns/campaign-form.tsx,
    components/settings/personalization-section.tsx
  </files>
  <action>
    Apply the following replacement mapping for ALL files in this task. Read each file first, then replace all hardcoded Tailwind color-scale classes with semantic token equivalents. Remove any `dark:` override that is now handled by the semantic token (since tokens are theme-aware).

    **Category A: Warning Banners — Replacement Map:**
    | Current | Replace With |
    |---------|-------------|
    | `bg-amber-50` | `bg-warning-bg` |
    | `border-amber-200` | `border-warning-border` |
    | `text-amber-600` | `text-warning` |
    | `text-amber-700` | `text-warning` |
    | `text-amber-800` | `text-warning-foreground` |
    | `text-amber-900` | `text-warning-foreground` |
    | `dark:bg-amber-950` or `dark:bg-amber-950/20` | REMOVE (token handles dark mode) |
    | `dark:border-amber-900/50` or `dark:border-amber-800` or `dark:border-amber-700` | REMOVE |
    | `dark:text-amber-200` or `dark:text-amber-300` or `dark:text-amber-400` or `dark:text-amber-500` | REMOVE |
    | `bg-amber-500` (usage bar threshold) | `bg-warning` |

    **Category K: AI Indicators — Replacement Map:**
    | Current | Replace With |
    |---------|-------------|
    | `text-amber-500` (AI sparkle) | `text-warning` |
    | `text-amber-600` (AI tip text) | `text-warning` |
    | `dark:text-amber-400` | REMOVE |

    **personalization-section.tsx SPECIAL HANDLING:**
    This file has 4 conditional functions each with 3 cases (great/good/degraded). Replace atomically:
    - Great: `text-green-600` → `text-success`, `bg-green-500` → `bg-success`
    - Good: `text-amber-600` → `text-warning`, `bg-amber-500` → `bg-warning`
    - Degraded: `text-red-600` → `text-destructive`, `bg-red-500` → `bg-destructive`
    - Remove all associated `dark:text-*` overrides since semantic tokens handle dark mode.

    **usage-display.tsx SPECIAL HANDLING:**
    The progress bar color is conditional (0-80% = primary, >80% = amber). Replace `bg-amber-500` → `bg-warning` in the conditional logic. Keep the primary color path unchanged.

    After replacing, verify each file individually with `pnpm typecheck`.
  </action>
  <verify>
    Run `grep -rn "bg-amber-\|border-amber-\|text-amber-" components/billing/ components/send/send-page-client.tsx components/settings/integrations-section.tsx components/campaigns/campaign-form.tsx components/settings/personalization-section.tsx` — should return 0 matches (all replaced).
  </verify>
  <done>
    - All warning banners use bg-warning-bg, border-warning-border, text-warning, text-warning-foreground
    - AI personalization sparkle uses text-warning
    - Usage display threshold uses bg-warning
    - No hardcoded amber Tailwind classes remain in these files
    - All dark: overrides removed (tokens are theme-aware)
  </done>
</task>

<task type="auto">
  <name>Task 2: Replace Category B (form validation errors), J (danger zone), O (SMS counters), and stat-strip</name>
  <files>
    components/login-form.tsx,
    components/sign-up-form.tsx,
    components/forgot-password-form.tsx,
    components/update-password-form.tsx,
    components/business-settings-form.tsx,
    components/customers/add-customer-sheet.tsx,
    components/customers/edit-customer-sheet.tsx,
    components/onboarding/steps/business-basics-step.tsx,
    components/onboarding/steps/business-step.tsx,
    components/onboarding/steps/customer-step.tsx,
    components/onboarding/steps/review-destination-step.tsx,
    components/onboarding/steps/services-offered-step.tsx,
    components/settings/settings-tabs.tsx,
    components/send/sms-character-counter.tsx,
    components/templates/sms-preview.tsx,
    components/templates/message-template-form.tsx,
    components/send/stat-strip.tsx
  </files>
  <action>
    Apply the following replacement mappings. Read each file, then replace all hardcoded classes.

    **Category B: Form Validation — Replacement Map:**
    | Current | Replace With |
    |---------|-------------|
    | `text-red-500` (form error text) | `text-error-text` |
    | `text-red-600` (form error text) | `text-error-text` |
    | `text-red-700` (form error heading) | `text-error-text` |

    This applies to ALL `<p>` or `<span>` elements that display form validation error messages or required field asterisks (*). Common patterns:
    - `<p className="text-red-500 text-sm">{errors.field}</p>`
    - `<span className="text-red-500">*</span>`

    **Category J: Danger Zone — Replacement Map:**
    | Current | Replace With |
    |---------|-------------|
    | `text-amber-600` (danger zone pre-warning) | `text-warning` |
    | `dark:text-amber-500` | REMOVE |
    | `border-red-200` (danger zone border) | `border-destructive/30` |
    | `text-red-600` (danger zone heading) | `text-destructive` |
    | `dark:border-red-800` | REMOVE |
    | `dark:text-red-400` | REMOVE |

    **Category O: SMS Character Counters — Replacement Map:**
    Both sms-character-counter.tsx and sms-preview.tsx have progressive thresholds:
    | Current | Replace With | Semantic Meaning |
    |---------|-------------|------------------|
    | `text-amber-600` or `text-yellow-600` (soft warning) | `text-warning` | Approaching limit |
    | `text-red-600` (hard limit) | `text-destructive` | Over limit |
    | `dark:text-amber-400` or `dark:text-yellow-500` | REMOVE | Token handles dark |
    | `dark:text-red-400` | REMOVE | Token handles dark |

    For `message-template-form.tsx`: `text-yellow-600` → `text-warning`, `dark:text-yellow-500` → REMOVE.

    **stat-strip.tsx SPECIAL HANDLING:**
    - `text-red-600` for quota limit text → `text-destructive`
    - `bg-red-600` for at-limit bar → `bg-destructive`
    - `bg-red-50` (DNS warning bg) → `bg-destructive/10`
    - `border-red-200` (DNS warning border) → `border-destructive/20`
    - `dark:` overrides for these → REMOVE
    - Leave `text-yellow-400` for star ratings INLINE (Category H — intentional)

    **business-settings-form.tsx SPECIAL HANDLING:**
    This file has BOTH form validation errors (Cat B) AND success/error banners (Cat F).
    - Form errors: `text-red-500` → `text-error-text`
    - Error banner: `bg-red-50 border-red-200 text-red-800` → `bg-destructive/10 border-destructive/20 text-destructive`
    - Success banner: `bg-green-50 border-green-200 text-green-800` → `bg-success-bg border-success-border text-success-foreground`

    After all replacements, run `pnpm typecheck`.
  </action>
  <verify>
    Run `pnpm lint && pnpm typecheck` — both must pass.
    Run `grep -rn "text-red-500\|text-red-600\|text-red-700" components/login-form.tsx components/sign-up-form.tsx components/forgot-password-form.tsx components/update-password-form.tsx` — should return 0 matches.
  </verify>
  <done>
    - All form validation errors use text-error-text
    - Danger zone uses text-warning (pre-warning) and border-destructive/30 + text-destructive (danger section)
    - SMS character counters use text-warning (soft) and text-destructive (hard)
    - stat-strip quota indicators use semantic tokens
    - business-settings-form banners use semantic tokens
    - No hardcoded red-500/red-600/red-700 remain in form files
    - Build passes
  </done>
</task>

</tasks>

<verification>
1. `pnpm typecheck` passes
2. `pnpm lint` passes
3. Verify warning banners are clean: `grep -rn "bg-amber-\|border-amber-\|text-amber-" components/billing/ components/send/send-page-client.tsx components/settings/integrations-section.tsx components/campaigns/campaign-form.tsx` returns 0 matches
4. Verify form validation is clean: `grep -rn "text-red-500" components/login-form.tsx components/sign-up-form.tsx components/forgot-password-form.tsx components/update-password-form.tsx components/customers/add-customer-sheet.tsx components/customers/edit-customer-sheet.tsx` returns 0 matches
5. Verify danger zone is clean: `grep -rn "border-red-200\|text-red-600" components/settings/settings-tabs.tsx` returns 0 matches
</verification>

<success_criteria>
- ~100 hardcoded color-scale classes replaced with semantic tokens across 24 files
- Categories A (warning banners), B (form validation), J (danger zone), K (AI indicators), O (SMS counters) fully tokenized
- All dark: overrides removed where tokens handle dark mode
- Build passes (lint + typecheck)
</success_criteria>

<output>
After completion, create `.planning/phases/35-card-variants-dashboard-quick-wins/35-04-SUMMARY.md`
</output>
