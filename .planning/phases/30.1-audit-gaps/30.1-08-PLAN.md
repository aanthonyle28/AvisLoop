---
phase: 30.1-audit-gaps
plan: 08
type: execute
wave: 3
depends_on:
  - 30.1-02
files_modified:
  - app/(dashboard)/history/page.tsx
  - components/history/history-client.tsx
autonomous: true

must_haves:
  truths:
    - "Route /history and nav label 'Activity' are aligned"
    - "Page title says 'Activity' not 'History'"
    - "Metadata title says 'Activity'"
  artifacts:
    - path: "app/(dashboard)/history/page.tsx"
      provides: "Activity page with correct title"
      contains: "title: 'Activity'"
    - path: "components/history/history-client.tsx"
      provides: "Activity heading"
      contains: "Activity"
  key_links:
    - from: "components/layout/sidebar.tsx"
      to: "/history"
      via: "Activity nav item"
      pattern: "Activity.*history"
---

<objective>
Align History route with Activity label - ensure all user-facing text says "Activity".

Purpose: Navigation says "Activity" but route is /history and some text says "History" - this is confusing (QA L07-01).

Output: All user-facing text says "Activity", route remains /history for backward compatibility.
</objective>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/QA-AUDIT.md (L07-01: History route vs Activity label)

History page: @app/(dashboard)/history/page.tsx
History client: @components/history/history-client.tsx
Sidebar: Activity label pointing to /history
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update History page metadata and content to Activity</name>
  <files>app/(dashboard)/history/page.tsx, components/history/history-client.tsx</files>
  <action>
Update all user-facing text from "History" to "Activity":

**app/(dashboard)/history/page.tsx:**
```tsx
export const metadata = {
  title: 'Activity',  // was 'History' or 'Message History'
}
```

**components/history/history-client.tsx:**

Already says "Activity" in the h1 (line 114). Verify and update any remaining "History" text:

1. Check the page heading - should be "Activity" (already is)
2. Check description text - should reference "activity" not "history"
3. Check any empty states or loading text

Current line ~115-118:
```tsx
<div>
  <h1 className="text-3xl font-bold tracking-tight">Activity</h1>
  <p className="text-muted-foreground mt-1">
    View and manage your message history  // ‚Üê update this
  </p>
</div>
```

Change to:
```tsx
<p className="text-muted-foreground mt-1">
  View your sent messages and their delivery status
</p>
```

Also check:
- Empty state text in components/history/empty-state.tsx
- Any toast messages that say "history"

Note: The folder and route remain `/history` for backward compatibility. Only user-facing text changes to "Activity".
  </action>
  <verify>
- grep "title.*Activity" app/(dashboard)/history/page.tsx
- grep -i "history" components/history/history-client.tsx should only return folder path, not text
  </verify>
  <done>All user-facing History text changed to Activity</done>
</task>

<task type="auto">
  <name>Task 2: Update empty state text</name>
  <files>components/history/empty-state.tsx</files>
  <action>
Check and update the empty state component for Activity page:

The empty state should say something like:
- "No activity yet" (not "No history")
- "Your sent messages will appear here"

Check current text and update any "history" references to align with "Activity" terminology.

```tsx
// If current says:
"No message history"
// Change to:
"No activity yet"

// If current says:
"Your history will appear..."
// Change to:
"Sent messages will appear here..."
```
  </action>
  <verify>grep -i "history" components/history/empty-state.tsx should return nothing or only folder paths</verify>
  <done>Empty state text aligned with Activity terminology</done>
</task>

</tasks>

<verification>
1. `pnpm typecheck` passes
2. `pnpm lint` passes
3. Browser tab title shows "Activity" when on /history page
4. Page heading says "Activity"
5. Description text doesn't mention "history"
6. Empty state (if shown) says "No activity yet" or similar
7. Sidebar "Activity" link correctly goes to /history
</verification>

<success_criteria>
- Page metadata title is "Activity"
- All user-facing text says "Activity" not "History"
- Route remains /history (no URL change needed)
- No TypeScript or lint errors
</success_criteria>

<output>
After completion, create `.planning/phases/30.1-audit-gaps/30.1-08-SUMMARY.md`
</output>
