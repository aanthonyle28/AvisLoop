---
phase: 30-v2-alignment
plan: 10
type: execute
wave: 4
depends_on: []
files_modified:
  - components/customers/customers-client.tsx
  - components/customers/customer-table.tsx
  - components/customers/add-customer-sheet.tsx
  - components/customers/csv-preview-table.tsx
  - components/customers/customer-filters.tsx
  - components/customers/customer-columns.tsx
  - components/jobs/edit-job-sheet.tsx
  - components/send/quick-send-tab.tsx
  - components/settings/service-types-section.tsx
  - components/onboarding/steps/services-offered-step.tsx
  - components/onboarding/steps/send-step.tsx
  - components/review/thank-you-card.tsx
  - components/review/satisfaction-rating.tsx
  - components/marketing/hero.tsx
  - components/marketing/faq-section.tsx
  - components/marketing/pricing-table.tsx
  - components/marketing/mobile-nav.tsx
  - components/marketing/user-menu.tsx
  - components/marketing/v2/animated-demo.tsx
  - components/theme-switcher.tsx
  - app/(marketing)/layout.tsx
autonomous: true

must_haves:
  truths:
    - "No lucide-react imports in application components"
    - "All icons use @phosphor-icons/react"
    - "Icon sizes converted from className to size prop"
    - "Build and typecheck pass after migration"
  artifacts:
    - path: "components/customers/customers-client.tsx"
      provides: "Customer components with Phosphor icons"
      contains: "@phosphor-icons/react"
  key_links:
    - from: "components/**/*.tsx"
      to: "@phosphor-icons/react"
      via: "import statement"
      pattern: "from '@phosphor-icons/react'"
---

<objective>
Complete icon migration from lucide-react to @phosphor-icons/react. QA-FIX migrated 11 high-priority files; this plan migrates the remaining 21 application component files identified via grep.

Purpose: ICON-01 requirement. Consistent icon system across the codebase.
Output: All application components using Phosphor icons.

Note: Grep results show 24 files with lucide imports. Excludes 11 UI primitives (dialog, sheet, select, dropdown, sonner) which are acceptable per 30-RESEARCH.md. Actual application components to migrate: 13 files.
</objective>

<execution_context>
@C:\Users\aanth\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\aanth\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/30-v2-alignment/30-RESEARCH.md
@.planning/UX-AUDIT.md

# QA-FIX icon mappings reference
@.planning/phases/QA-FIX-audit-remediation/QA-FIX-04-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate customer components (6 files)</name>
  <files>
    components/customers/customers-client.tsx
    components/customers/customer-table.tsx
    components/customers/add-customer-sheet.tsx
    components/customers/csv-preview-table.tsx
    components/customers/customer-filters.tsx
    components/customers/customer-columns.tsx
  </files>
  <action>
For each file, apply these icon mappings (lucide -> phosphor):

| Lucide | Phosphor | Notes |
|--------|----------|-------|
| Plus | Plus | Same name |
| Users | Users | Same name |
| Loader2 | CircleNotch | Add animate-spin class |
| Check | Check | Same name |
| CheckCircle | CheckCircle | Same name |
| ChevronDown | CaretDown | Different name |
| ChevronUp | CaretUp | Different name |
| ChevronRight | CaretRight | Different name |
| ChevronLeft | CaretLeft | Different name |
| MoreHorizontal | DotsThree | Different name |
| MoreVertical | DotsThreeVertical | Different name |
| Search | MagnifyingGlass | Different name |
| Filter | Funnel | Different name |
| X | X | Same name |
| Mail | Envelope | Different name |
| Phone | Phone | Same name |
| Tag | Tag | Same name |
| AlertCircle | WarningCircle | Different name |
| Info | Info | Same name |
| Trash | Trash | Same name |
| Edit | PencilSimple | Different name |
| Archive | Archive | Same name |

Size conversion:
- `className="h-4 w-4"` -> `size={16}`
- `className="h-5 w-5"` -> `size={20}`
- `className="h-6 w-6"` -> `size={24}`
- `className="h-8 w-8"` -> `size={32}`
- `className="h-12 w-12"` -> `size={48}`

Import pattern:
```typescript
// BEFORE
import { Plus, Users, Loader2 } from 'lucide-react'

// AFTER
import { Plus, Users, CircleNotch } from '@phosphor-icons/react'
```
  </action>
  <verify>Run `pnpm typecheck` after each file to catch issues early</verify>
  <done>All 6 customer component files using Phosphor icons</done>
</task>

<task type="auto">
  <name>Task 2: Migrate job, send, and settings components (3 files)</name>
  <files>
    components/jobs/edit-job-sheet.tsx
    components/send/quick-send-tab.tsx
    components/settings/service-types-section.tsx
  </files>
  <action>
Apply same icon mappings as Task 1. Note: add-job-sheet.tsx already migrated in Plan 03.

Additional mappings for these files:
| Lucide | Phosphor |
|--------|----------|
| Calendar | Calendar |
| Clock | Clock |
| Send | PaperPlaneTilt |
| MessageSquare | Chat |
| Settings | Gear |

Check each file for remaining lucide imports and replace.

For edit-job-sheet.tsx, ensure:
- Loader2 -> CircleNotch with animate-spin
- All icon sizes use size prop
  </action>
  <verify>Run `pnpm typecheck` after changes</verify>
  <done>Job, send, and settings components using Phosphor icons</done>
</task>

<task type="auto">
  <name>Task 3: Migrate onboarding and review components (4 files)</name>
  <files>
    components/onboarding/steps/services-offered-step.tsx
    components/onboarding/steps/send-step.tsx
    components/review/thank-you-card.tsx
    components/review/satisfaction-rating.tsx
  </files>
  <action>
Apply icon mappings. For review components:
| Lucide | Phosphor |
|--------|----------|
| Star | Star | weight="fill" for filled, weight="regular" for outline |
| Heart | Heart |
| ThumbsUp | ThumbsUp |
| ExternalLink | ArrowSquareOut |

For Star ratings, Phosphor has weight variants:
- Empty star: `<Star size={24} weight="regular" />`
- Filled star: `<Star size={24} weight="fill" />`

Convert className color to Phosphor className or style:
```typescript
// BEFORE (lucide)
<Star className="h-6 w-6 fill-yellow-400 text-yellow-400" />

// AFTER (phosphor)
<Star size={24} weight="fill" className="text-yellow-400" />
```
  </action>
  <verify>Run `pnpm typecheck` after changes</verify>
  <done>Onboarding and review components using Phosphor icons</done>
</task>

<task type="auto">
  <name>Task 4: Migrate marketing components (6 files)</name>
  <files>
    components/marketing/hero.tsx
    components/marketing/faq-section.tsx
    components/marketing/pricing-table.tsx
    components/marketing/mobile-nav.tsx
    components/marketing/user-menu.tsx
    components/marketing/v2/animated-demo.tsx
  </files>
  <action>
Apply icon mappings for marketing components:
| Lucide | Phosphor |
|--------|----------|
| ArrowRight | ArrowRight |
| ChevronRight | CaretRight |
| Menu | List |
| X | X |
| Check | Check |
| Play | Play |
| Sparkles | Sparkle |
| Zap | Lightning |
| Shield | Shield |
| Globe | Globe |
| Star | Star |

For hero.tsx and animated-demo.tsx, ensure any animation classes are preserved:
```typescript
// Keep motion classes
<ArrowRight size={20} className="motion-safe:group-hover:translate-x-1 transition-transform" />
```
  </action>
  <verify>Run `pnpm typecheck` after changes</verify>
  <done>Marketing components using Phosphor icons</done>
</task>

<task type="auto">
  <name>Task 5: Migrate theme and layout components (2 files)</name>
  <files>
    components/theme-switcher.tsx
    app/(marketing)/layout.tsx
  </files>
  <action>
Apply icon mappings:
| Lucide | Phosphor |
|--------|----------|
| Sun | Sun |
| Moon | Moon |
| Monitor | Monitor |
| Settings | Gear |
| Menu | List |

For theme-switcher.tsx with system theme:
```typescript
// BEFORE
import { Sun, Moon, Monitor } from 'lucide-react'

// AFTER
import { Sun, Moon, Monitor } from '@phosphor-icons/react'
```

Note: Phosphor Monitor icon exists as "Monitor" - verify in Phosphor docs.
If not available, use "Desktop" or "ComputerTower" instead.
  </action>
  <verify>Run `pnpm typecheck` and verify theme toggle works</verify>
  <done>Theme and layout components using Phosphor icons</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Icon migration complete across 21 application component files</what-built>
  <how-to-verify>
1. Start dev server: `pnpm dev`
2. Visit these key pages and verify icons render correctly:
   - Dashboard (/ or /dashboard) - Check KPI icons, nav icons
   - Customers (/customers) - Check table icons, action buttons
   - Jobs (/jobs) - Check job list icons, edit/delete actions
   - Campaigns (/campaigns) - Check campaign cards icons
   - Settings (/settings) - Check settings page icons
3. Test icon interactions:
   - Hover states on icon buttons
   - Click actions (edit, delete, menu dropdowns)
   - Star rating in review funnel
   - Theme switcher icons (sun/moon/monitor)
4. Check console for any missing icon warnings
5. Verify no visual regressions (icons should look similar to before)
  </how-to-verify>
  <resume-signal>Type "approved" if icons render correctly, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
1. `pnpm typecheck` passes
2. `pnpm lint` passes
3. `grep -r "from 'lucide-react'" components/` returns only UI primitives (dialog, sheet, select, dropdown, checkbox, sonner)
4. All migrated components import from '@phosphor-icons/react'
5. Visual verification on 5 key pages (Dashboard, Customers, Jobs, Campaigns, Settings)
6. No console errors or missing icon warnings
</verification>

<success_criteria>
- All application components migrated to Phosphor (ICON-01)
- Only shadcn/ui primitives retain lucide (acceptable per research)
- No visual regressions in icons
- Build passes without icon-related errors
- Human verification confirms icons render correctly
</success_criteria>

<output>
After completion, create `.planning/phases/30-v2-alignment/30-10-SUMMARY.md`
</output>
