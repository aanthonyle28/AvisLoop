---
phase: 34-warm-palette-token-replacement
plan: 02
type: execute
wave: 2
depends_on: ["34-01"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "All five status badges (pending, delivered, clicked, failed, reviewed) are visually distinguishable side-by-side on the warm background in both light and dark mode"
    - "Primary button text is legible on the new primary blue in both light and dark mode"
    - "No page has muddy, illegible, or cold-blue-looking areas in either mode"
    - "Muted foreground text (labels, descriptions) is readable on both warm background and warm card surfaces"
    - "Chart colors are visually distinct on warm card background"
    - "Dark mode feels warm-tinted, not cold gray"
  artifacts: []
  key_links: []
---

<objective>
Visually verify the warm palette renders correctly across all dashboard pages in both light and dark mode. Check that status badges remain distinguishable, primary buttons are legible, charts are visible, and dark mode feels warm rather than cold.

Purpose: CSS variable changes are arithmetic — they may pass contrast calculations but still look wrong visually. This checkpoint catches muddy colors, unexpected interactions between warm tokens and existing component styles, and any areas where the palette creates illegibility.

Output: Confirmation that the warm palette is correct, or a list of specific issues to fix.
</objective>

<execution_context>
@C:\Users\aanth\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\aanth\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/34-warm-palette-token-replacement/34-RESEARCH.md
@.planning/phases/34-warm-palette-token-replacement/34-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Automated build verification and contrast spot-checks</name>
  <files></files>
  <action>
    1. Run `pnpm build` — full production build must complete with zero errors. This catches any Tailwind class resolution failures from the new tokens.

    2. Start the dev server with `pnpm dev` and use Playwright MCP to visit each page listed below, taking screenshots in both light and dark mode. For each page, check:
       - Page renders without errors (no white flash, no missing styles)
       - Text is readable (foreground on background contrast looks correct)
       - Borders are visible but subtle
       - Cards are distinguishable from the background

    **Pages to visit (in order of risk):**

    a. `/history` — **HIGHEST RISK**: Status badges rendered side-by-side. Verify all 5 status colors are visually distinct from each other AND from the warm card background. Check that borders on badges are visible.

    b. `/dashboard` — KPI widgets, attention alerts, action summary banner. Check that alert text colors (red/yellow for warnings) are still readable on warm cards.

    c. `/jobs` — Job status badges (scheduled, completed, do_not_send). Verify job table rows are readable.

    d. `/campaigns` — Campaign stat bars, active/paused badges. Check that campaign cards look correct on warm background.

    e. `/analytics` — Charts render with visible colors. Verify chart-4 (purple) and chart-5 (rose) are distinct from chart-1, chart-2, chart-3 on warm card surface.

    f. `/customers` — SMS consent color indicators, customer list. Check detail drawer colors.

    g. `/feedback` — Star ratings, feedback cards.

    h. `/send` — Warning banner, quick send form.

    i. `/billing` — Success/warning banners, subscription cards.

    j. `/settings` — Warning zones, danger zone section.

    3. For each page, toggle dark mode (click theme switcher) and verify:
       - Dark background has a warm tint (not cold gray)
       - Text is readable (warm near-white on warm near-black)
       - Primary buttons are legible (dark text on 58% L blue)
       - Cards are distinguishable from background

    4. Check dropdown interaction: open any dropdown menu or select box. Verify the focused/hovered item shows a muted gray highlight (NOT amber). This confirms the Task 3 changes from Plan 34-01 are working.

    5. Check button hover states: hover over an outline button and a ghost button. Verify hover shows muted gray, not amber.
  </action>
  <verify>
    - `pnpm build` exits with code 0
    - All 10 pages render without console errors
    - Screenshots captured for light and dark mode
    - No visual issues identified (or issues documented for fix)
  </verify>
  <done>
    Production build passes. All 10 dashboard pages verified in both light and dark mode. Status badges distinguishable. Primary buttons legible. Charts visible. Dark mode warm-tinted.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Complete warm palette migration across the entire app:
    - Warm cream backgrounds, warm borders, soft blue primary, amber accent
    - Independently calibrated dark mode with warm-tinted backgrounds
    - Status badges with borders for warm-bg distinguishability
    - UI primitive focus/hover states using muted gray instead of amber
    - 4 new semantic tokens (highlight, surface) for future use
    - Chart tokens 4 and 5 updated to purple and rose
  </what-built>
  <how-to-verify>
    1. Run `pnpm dev` and open http://localhost:3000/dashboard
    2. Check that the page background has a warm cream tint (not pure gray/white)
    3. Click through these pages and verify warm palette renders correctly:
       - /dashboard — KPI widgets, alert cards
       - /history — All 5 status badges visible and distinct
       - /jobs — Job table and badges
       - /campaigns — Campaign cards
       - /settings — Sections and danger zone
    4. Toggle dark mode (theme switcher in sidebar/header). Verify:
       - Background is warm dark (not cold gray)
       - Primary buttons have dark text on blue (legible)
       - Status badges are visible in dark mode
    5. Open any dropdown menu. Verify focused item has gray highlight, NOT amber
    6. Hover over an outline or ghost button. Verify hover is gray, NOT amber

    **Specific things to look for:**
    - Status badges on /history should NOT blend into the card background (borders help distinguish)
    - Muted text (descriptions, labels) should be readable but subdued
    - No areas should look "cold" or "blue-gray" — everything should feel warm
  </how-to-verify>
  <resume-signal>Type "approved" if the warm palette looks correct, or describe specific issues that need fixing (e.g., "status badges still hard to see", "dark mode looks too cold")</resume-signal>
</task>

</tasks>

<verification>
1. `pnpm build` passes with zero errors
2. All 10 dashboard pages render without console errors in both light and dark mode
3. Status badges are visually distinguishable from warm card background
4. Primary button text passes visual legibility check
5. Dark mode background has warm tint
6. Dropdown/select focus states show muted gray, not amber
7. Human approves overall warm palette appearance
</verification>

<success_criteria>
- Full production build passes
- Visual review confirms warm palette renders correctly across all pages
- No muddy, illegible, or cold-blue-looking areas in either mode
- Status badges remain visually distinguishable with border treatment
- Human approval of the overall warm design direction
</success_criteria>

<output>
After completion, create `.planning/phases/34-warm-palette-token-replacement/34-02-SUMMARY.md`
</output>
