---
phase: 15-design-system-dashboard-redesign
plan: 02
type: execute
wave: 2
depends_on: ["15-01"]
files_modified:
  - components/layout/sidebar.tsx
  - components/layout/bottom-nav.tsx
  - components/layout/app-shell.tsx
autonomous: true

must_haves:
  truths:
    - "Sidebar has white background with #E2E2E2 right border"
    - "Active nav item has #F2F2F2 background with blue Phosphor icon"
    - "Inactive nav items use dark text with outline Phosphor icons"
    - "Bottom nav uses Phosphor icons matching sidebar icon set"
    - "Sidebar logo text reads 'AvisLoop' with a small loop/arrow icon"
  artifacts:
    - path: "components/layout/sidebar.tsx"
      provides: "Redesigned sidebar with Phosphor icons, white bg, border-only"
      contains: "@phosphor-icons/react"
    - path: "components/layout/bottom-nav.tsx"
      provides: "Bottom nav with Phosphor icons matching sidebar"
      contains: "@phosphor-icons/react"
  key_links:
    - from: "components/layout/sidebar.tsx"
      to: "@phosphor-icons/react"
      via: "import"
      pattern: "import.*phosphor-icons"
    - from: "components/layout/app-shell.tsx"
      to: "components/layout/sidebar.tsx"
      via: "component import"
      pattern: "Sidebar"
---

<objective>
Restyle the sidebar and bottom nav to match the Figma reference: white background, #E2E2E2 border, Phosphor outline icons, #F2F2F2 active state with blue icon, and updated navigation structure matching the reference (Dashboard, Contacts, Send, History in main; Apps, Billing, Help & Support, Account in secondary).

Purpose: The sidebar is the primary navigation element and must match the Figma design exactly.
Output: Restyled sidebar.tsx, bottom-nav.tsx, and app-shell.tsx with correct background color.
</objective>

<execution_context>
@C:\Users\aanth\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\aanth\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/15-design-system-dashboard-redesign/15-CONTEXT.md
@components/layout/sidebar.tsx
@components/layout/bottom-nav.tsx
@components/layout/app-shell.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Restyle sidebar with Phosphor icons and new visual language</name>
  <files>components/layout/sidebar.tsx</files>
  <action>
Rewrite the sidebar to match the Figma reference design:

1. **Replace all Lucide imports with Phosphor icons:**
   - `LayoutDashboard` -> `SquaresFour` (from @phosphor-icons/react)
   - `Users` -> `AddressBook` (from @phosphor-icons/react)
   - `Send` -> `PaperPlaneTilt` (from @phosphor-icons/react)
   - `History` -> `ClockCounterClockwise` (from @phosphor-icons/react)
   - `CreditCard` -> `CreditCard` (from @phosphor-icons/react)
   - `Settings` -> `GearSix` (from @phosphor-icons/react)
   - `ChevronLeft`/`ChevronRight` -> `CaretLeft`/`CaretRight` (from @phosphor-icons/react)
   - `LogOut` -> `SignOut` (from @phosphor-icons/react)
   - Add extra nav items from reference: `AppWindow` for "Apps", `Headset` for "Help & Support", `UserCircle` for "Account"

2. **Update nav structure to match reference:**
   Main nav (top section):
   - Dashboard (`/dashboard`)
   - Contacts (`/contacts`)
   - Send (`/send`)
   - History (`/history`)

   Secondary nav (bottom section, separated):
   - Apps (`/dashboard/settings`) -- maps to settings/integrations
   - Billing (`/billing`)
   - Help & Support (`#`) -- placeholder link for now
   - Account (`/dashboard/settings`) -- maps to settings

3. **Visual styling changes:**
   - Sidebar background: `bg-white dark:bg-card` (explicit white, not bg-card which may differ)
   - Right border: `border-r border-[#E2E2E2] dark:border-border`
   - Remove section labels ("Main", "Account" uppercase text) -- reference has none
   - Active nav item: `bg-[#F2F2F2] dark:bg-muted text-foreground` with blue icon color `text-primary`
   - Inactive nav item: `text-foreground/70 dark:text-muted-foreground` (dark gray text)
   - Active state: rounded-lg background, NOT the current primary-colored background
   - Hover: `hover:bg-[#F2F2F2]/70 dark:hover:bg-muted/70` (subtle gray hover)
   - Remove the Separator component between nav groups -- use spacing instead
   - Nav item padding: `px-3 py-2.5` with `gap-3` for icon-text spacing
   - Icon size: `size={20}` for Phosphor icons (equivalent to h-5 w-5)

4. **Logo area:**
   - Keep "AvisLoop" text in the header
   - Use Phosphor `ArrowsClockwise` icon (size 24) as the logo icon, colored `text-primary`
   - Layout: icon + text side by side

5. **Collapse toggle:** Keep the existing collapse behavior but use `CaretLeft`/`CaretRight` Phosphor icons.

6. **Sign out button:** Keep at bottom, use Phosphor `SignOut` icon. Style: same hover as nav items.
  </action>
  <verify>
    Run `pnpm typecheck` -- no errors.
    Grep sidebar.tsx for "lucide-react" -- should return nothing.
    Grep sidebar.tsx for "phosphor-icons" -- should return matches.
  </verify>
  <done>
    Sidebar uses Phosphor icons, white background, #E2E2E2 border, #F2F2F2 active state with blue icon.
    No Lucide imports remain in sidebar.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update bottom nav and app shell</name>
  <files>components/layout/bottom-nav.tsx, components/layout/app-shell.tsx</files>
  <action>
1. **bottom-nav.tsx:**
   - Replace all Lucide imports with matching Phosphor icons (same mapping as sidebar Task 1)
   - `LayoutDashboard` -> `SquaresFour`
   - `Users` -> `AddressBook`
   - `Send` -> `PaperPlaneTilt`
   - `History` -> `ClockCounterClockwise`
   - Use `size={20}` for Phosphor icon sizing
   - Active state: `text-primary` (blue icon + text)
   - Inactive: `text-muted-foreground`
   - Keep existing layout structure (fixed bottom, grid-cols-4)

2. **app-shell.tsx:**
   - Update main content area background to `bg-[#F9F9F9] dark:bg-background`
   - This ensures the light gray content background from the reference design
   - Keep existing flex layout structure
  </action>
  <verify>
    Run `pnpm typecheck` -- no errors.
    Grep bottom-nav.tsx for "lucide-react" -- should return nothing.
  </verify>
  <done>
    Bottom nav uses Phosphor icons. App shell has #F9F9F9 content background.
    No Lucide imports remain in layout components.
  </done>
</task>

</tasks>

<verification>
- `pnpm typecheck` passes
- `pnpm lint` passes
- No `lucide-react` imports in sidebar.tsx, bottom-nav.tsx
- `@phosphor-icons/react` imported in sidebar.tsx and bottom-nav.tsx
- Sidebar has `bg-white` and `border-[#E2E2E2]`
- Active nav items use `bg-[#F2F2F2]` and `text-primary` for icon
- App shell main area uses `bg-[#F9F9F9]`
</verification>

<success_criteria>
- Sidebar matches Figma: white bg, gray border, gray active state, blue active icon
- All nav icons are Phosphor outline style
- Bottom nav mirrors sidebar icon choices
- Content area has light gray background
- Dark mode still functional with appropriate fallbacks
</success_criteria>

<output>
After completion, create `.planning/phases/15-design-system-dashboard-redesign/15-02-SUMMARY.md`
</output>
