---
phase: 09-polish-ux
plan: 04
type: execute
wave: 3
depends_on: ["09-02", "09-03"]
files_modified:
  - components/ui/button.tsx
  - components/ui/card.tsx
  - components/ui/input.tsx
  - components/ui/dialog.tsx
  - components/ui/sheet.tsx
  - components/contacts/contact-table.tsx
  - app/(marketing)/layout.tsx
  - app/(marketing)/page.tsx
  - app/(marketing)/pricing/page.tsx
  - app/(dashboard)/billing/page.tsx
autonomous: true

must_haves:
  truths:
    - "Buttons have subtle hover lift and press scale animations"
    - "Cards have hover shadow/lift effect"
    - "Dialogs and sheets have slide + fade transitions"
    - "Interactive elements have consistent 200ms transitions"
    - "All animations respect prefers-reduced-motion"
  artifacts:
    - path: "components/ui/button.tsx"
      provides: "Button with micro-interactions"
      contains: "motion-safe"
    - path: "components/ui/card.tsx"
      provides: "Card with hover effects"
      contains: "hover:shadow"
  key_links:
    - from: "components/ui/button.tsx"
      to: "app/globals.css"
      via: "CSS variables for transitions"
      pattern: "transition-all"
---

<objective>
Add micro-interactions and polish components for consistent visual feel across the app.

Purpose: Deliver the "feels smooth" success criterion through subtle animations, hover effects, and consistent transitions that respect accessibility preferences.

Output: Polished UI components with micro-interactions, consistent hover states, and improved visual transitions throughout the app.
</objective>

<execution_context>
@C:\Users\aanth\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\aanth\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/09-polish-ux/09-CONTEXT.md
@.planning/phases/09-polish-ux/09-RESEARCH.md
@.planning/phases/09-polish-ux/09-01-SUMMARY.md
@.planning/phases/09-polish-ux/09-02-SUMMARY.md
@.planning/phases/09-polish-ux/09-03-SUMMARY.md
@components/ui/button.tsx
@components/ui/card.tsx
@components/ui/input.tsx
@components/ui/dialog.tsx
@components/ui/sheet.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Enhance button with micro-interactions</name>
  <files>components/ui/button.tsx</files>
  <action>
Update the button component to add subtle hover and press animations:

Read the current components/ui/button.tsx (already using cva for variants).

Add these micro-interaction classes to the base styles in buttonVariants:
- `transition-all duration-200` - smooth transitions
- `motion-safe:hover:-translate-y-0.5` - subtle lift on hover
- `motion-safe:hover:shadow-md` - shadow increase on hover
- `motion-safe:active:scale-[0.98]` - subtle press effect
- `motion-safe:active:shadow-sm` - shadow decrease on press

The base string in cva should include:
```typescript
const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive motion-safe:hover:-translate-y-0.5 motion-safe:hover:shadow-md motion-safe:active:scale-[0.98] motion-safe:active:shadow-sm",
  // ... rest of config
)
```

IMPORTANT:
- Keep all existing functionality (variants, sizes, asChild)
- The motion-safe: prefix ensures animations are disabled for users with prefers-reduced-motion
- Do NOT add these effects to the link variant (links don't need press effects)

For the link variant specifically, override the transform/shadow effects:
```typescript
link: "text-primary underline-offset-4 hover:underline motion-safe:hover:translate-y-0 motion-safe:hover:shadow-none motion-safe:active:scale-100",
```
  </action>
  <verify>
1. `pnpm typecheck` - no errors
2. `pnpm dev` - test button hover and click animations
3. Test with prefers-reduced-motion: animations should be disabled
  </verify>
  <done>Button component has subtle hover lift and press scale animations with reduced motion support.</done>
</task>

<task type="auto">
  <name>Task 2: Add hover effects to Card component</name>
  <files>components/ui/card.tsx</files>
  <action>
Read current components/ui/card.tsx and add hover effects.

Create an interactive variant of Card that has hover animations:

```typescript
import * as React from "react"
import { cn } from "@/lib/utils"

// Base Card (no hover effects - static display)
function Card({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card"
      className={cn(
        "bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",
        className
      )}
      {...props}
    />
  )
}

// Interactive Card with hover effects (for clickable cards)
// Use this for: billing tier cards, clickable dashboard cards, pricing cards
function InteractiveCard({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="interactive-card"
      className={cn(
        "bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",
        "transition-all duration-200 cursor-pointer",
        "motion-safe:hover:shadow-lg motion-safe:hover:-translate-y-1",
        className
      )}
      {...props}
    />
  )
}

// Keep existing CardHeader, CardTitle, CardDescription, CardContent, CardFooter
// ... (rest of component unchanged)

export { Card, InteractiveCard, CardHeader, CardTitle, CardDescription, CardContent, CardFooter }
```

Note:
- The regular Card should NOT have hover effects (it's for static display)
- InteractiveCard is for cards that act as buttons/links (billing tier selection, pricing cards, clickable dashboard widgets)
- Existing CardHeader, CardTitle, etc. remain unchanged
  </action>
  <verify>
1. `pnpm typecheck` - no errors
2. Existing Card usage still works (no breaking changes)
3. `pnpm dev` - test InteractiveCard hover effect
  </verify>
  <done>Card component has InteractiveCard variant with hover shadow/lift effect.</done>
</task>

<task type="auto">
  <name>Task 3a: Polish contact table with row hover effects</name>
  <files>components/contacts/contact-table.tsx</files>
  <action>
Update components/contacts/contact-table.tsx to add row hover effects:

1. Read current file
2. Find table row rendering (likely in a map or TanStack Table cell)
3. Add hover background: `hover:bg-muted/50 transition-colors duration-150`
4. Ensure the entire row is clickable if there's a row click handler
5. Make sure the hover effect is subtle and consistent with 200ms timing pattern

Example update to table rows:
```typescript
// In the row mapping, add to the tr or row element:
className={cn(
  "border-b transition-colors duration-150",
  "hover:bg-muted/50",
  // ... existing classes
)}
```
  </action>
  <verify>
1. `pnpm typecheck` - no errors
2. `pnpm dev` - test contact table row hover at /contacts
3. Hover effect is subtle (muted/50 background)
  </verify>
  <done>Contact table rows have hover background effect.</done>
</task>

<task type="auto">
  <name>Task 3b: Polish marketing pages with animations</name>
  <files>app/(marketing)/layout.tsx, app/(marketing)/page.tsx, app/(marketing)/pricing/page.tsx</files>
  <action>
1. Update app/(marketing)/layout.tsx:
   - Read current file
   - Add smooth scroll behavior to html element via Next.js metadata or inline style
   - Ensure marketing pages have consistent header/footer styling

2. Quick polish pass on app/(marketing)/page.tsx:
   - Read current file
   - Ensure CTAs have consistent button styling
   - Add subtle fade-in animation to hero section if not present:
   ```typescript
   <section className="animate-in fade-in duration-500">
   ```
   The animate-in utility comes from tailwindcss-animate (already installed).

3. Polish app/(marketing)/pricing/page.tsx:
   - Ensure pricing cards have hover effects (use InteractiveCard for clickable tier cards)
   - The "recommended" plan card should have a more prominent hover state
   - Add consistent spacing and transitions

Note: Be conservative with changes. Focus on:
- Adding hover states where missing
- Ensuring transitions are 200ms for consistency
- Using motion-safe: prefix for transforms
- Not breaking existing layout/functionality
  </action>
  <verify>
1. `pnpm typecheck` - no errors
2. `pnpm dev` - visit / and /pricing
3. Marketing pages have consistent visual polish
4. Hero section fades in on load
5. Pricing cards have hover effects
  </verify>
  <done>Marketing pages have polished transitions and animations.</done>
</task>

<task type="auto">
  <name>Task 4: Color consistency audit and cleanup</name>
  <files>app/(dashboard)/billing/page.tsx</files>
  <action>
Run a color consistency audit to ensure semantic tokens are used throughout:

1. Search for hardcoded colors in dashboard components:
   ```bash
   grep -r "text-blue-" components/ app/
   grep -r "bg-blue-" components/ app/
   grep -r "border-blue-" components/ app/
   ```

2. Replace any hardcoded colors with semantic tokens:
   - `text-blue-600` -> `text-primary`
   - `bg-blue-600` -> `bg-primary`
   - `text-gray-500` -> `text-muted-foreground`
   - `bg-gray-100` -> `bg-muted`

3. Update app/(dashboard)/billing/page.tsx to use InteractiveCard for tier selection:
   - Import InteractiveCard from components/ui/card
   - Replace static Card with InteractiveCard for clickable billing tier cards
   - This provides the hover effects users expect for selectable options

Example billing tier card update:
```typescript
import { InteractiveCard, CardHeader, CardTitle, CardContent } from '@/components/ui/card'

// For each billing tier that's selectable:
<InteractiveCard onClick={() => handleSelectTier(tier)}>
  <CardHeader>
    <CardTitle>{tier.name}</CardTitle>
  </CardHeader>
  <CardContent>
    {/* tier details */}
  </CardContent>
</InteractiveCard>
```

Note: Only audit dashboard-related files. Marketing pages may intentionally use different colors for branding.
  </action>
  <verify>
1. `pnpm typecheck` - no errors
2. `grep -r "text-blue-" app/(dashboard)/ components/` returns minimal results (only intentional brand colors)
3. Billing page tier cards have hover effects
4. Colors are consistent with design system
  </verify>
  <done>Color consistency verified. Billing tier cards use InteractiveCard for hover effects.</done>
</task>

</tasks>

<verification>
1. `pnpm lint && pnpm typecheck` passes
2. Buttons: subtle lift on hover, press scale on click
3. Interactive cards: shadow increase and lift on hover
4. Table rows: background highlight on hover
5. Marketing hero: fade-in animation on load
6. All animations disabled with prefers-reduced-motion
7. Transitions are consistently 200ms across components
8. No hardcoded blue colors in dashboard components (using semantic tokens)
</verification>

<success_criteria>
- Buttons have hover lift + shadow and press scale (motion-safe)
- InteractiveCard variant with hover effects
- Table rows have hover background
- Marketing pages have fade-in and consistent polish
- All animations respect prefers-reduced-motion via motion-safe: prefix
- Semantic color tokens used consistently (no hardcoded blues)
- Billing tier cards use InteractiveCard for hover feedback
- All lint and typecheck pass
</success_criteria>

<output>
After completion, create `.planning/phases/09-polish-ux/09-04-SUMMARY.md`
</output>
