---
phase: 28-onboarding-redesign
plan: 07
type: execute
wave: 4
depends_on: ["28-05", "28-06", "28-08"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "pnpm lint passes with zero errors"
    - "pnpm typecheck passes with zero errors"
    - "Full 7-step wizard flow works end-to-end"
    - "Settings page shows Email Authentication checklist"
    - "Settings page shows Branded Review Link section"
  artifacts: []
  key_links: []
---

<objective>
Build verification and visual checkpoint for the complete onboarding redesign.

Purpose: Verify all 7 plans produce a working 7-step onboarding wizard, settings email auth checklist, and clean build before marking Phase 28 complete.

Output: Verified build with passing lint and typecheck.
</objective>

<execution_context>
@C:\Users\aanth\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\aanth\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Run build verification</name>
  <files></files>
  <action>
Run the following verification commands in sequence:

1. `pnpm lint` -- must pass with zero errors
2. `pnpm typecheck` -- must pass with zero errors

If either command fails:
- Read the error output carefully
- Fix the issues in the relevant files
- Re-run the failing command until it passes
- Common issues to check:
  - Missing imports in onboarding-steps.tsx
  - Type mismatches between OnboardingBusiness and step component props
  - Unused variables from removed inline step components
  - Missing 'use client' directives on new step components
  </action>
  <verify>`pnpm lint` exits 0, `pnpm typecheck` exits 0.</verify>
  <done>Both lint and typecheck pass with zero errors.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete 7-step onboarding wizard replacing the old 2-step flow:
- Step 1: Business Basics (name, phone, Google review link)
- Step 2: Review Destination (link verification with test button)
- Step 3: Services Offered (multi-select from 8 service types with timing)
- Step 4: Software Used (ServiceTitan/Jobber/Housecall Pro/None, skippable)
- Step 5: Campaign Preset (Conservative/Standard/Aggressive, auto-creates campaign)
- Step 6: Import Customers (CSV upload, skippable)
- Step 7: SMS Consent (TCPA acknowledgment checkbox, completes setup)
- Settings: Email Authentication checklist (SPF/DKIM/DMARC guidance)
- Settings: Branded Review Link section (Bitly short link generation, DLVR-03)
  </what-built>
  <how-to-verify>
1. Run `pnpm dev`
2. Sign up or log in as a new user (or clear onboarding_completed_at on your business)
3. Navigate to /onboarding
4. Walk through all 7 steps:
   - Step 1: Enter business name + phone. Click Continue.
   - Step 2: Paste a Google review link. Click "Test your link" to open in new tab. Click Continue (or Skip).
   - Step 3: Select 2-3 service types. Verify timing defaults shown. Click Continue.
   - Step 4: Select a software option (or Skip).
   - Step 5: Click a campaign preset card. Verify campaign creation toast. Advances automatically.
   - Step 6: Click Continue (or try CSV import).
   - Step 7: Check the SMS consent checkbox. Click "Complete Setup".
5. Verify redirect to /dashboard with ?onboarding=complete
6. Navigate to /settings -- verify Email Authentication section appears
   - Also verify Branded Review Link section appears below it
7. Check progress bar shows correct step count (X/7) throughout
  </how-to-verify>
  <resume-signal>Type "approved" or describe any issues to fix</resume-signal>
</task>

</tasks>

<verification>
1. `pnpm lint` passes (zero errors)
2. `pnpm typecheck` passes (zero errors)
3. Full 7-step wizard flow completes without runtime errors
4. Dashboard redirect works after step 7 completion
5. Settings page Email Authentication section visible
6. Settings page Branded Review Link section visible
</verification>

<success_criteria>
- Build passes lint + typecheck with zero errors
- User confirms wizard flow works end-to-end
- All 7 steps render correctly with proper navigation
- Skippable steps (2, 4, 6) allow skipping
- Required steps (1, 3, 5, 7) enforce completion
- Campaign created in step 5
- SMS consent saved in step 7
- Settings email auth checklist visible
- Settings branded review link section visible
</success_criteria>

<output>
After completion, create `.planning/phases/28-onboarding-redesign/28-07-SUMMARY.md`
</output>
