---
phase: 46-drawer-consistency-campaign-freeze-fix
plan: 46-03
title: "SheetBody component + SheetHeader/SheetFooter shrink-0 foundation for all drawer migrations"
wave: 1
depends_on: []
files_modified:
  - components/ui/sheet.tsx
autonomous: true
---

## Objective

Add a `SheetBody` component to `sheet.tsx` and add `shrink-0` to `SheetHeader` and `SheetFooter` so that all drawers can achieve sticky footers with scrollable content by simply wrapping content in `SheetBody` and actions in `SheetFooter`.

## Context

@components/ui/sheet.tsx (full file — SheetContent is `flex flex-col gap-4`; SheetHeader has `py-8`; SheetFooter has `mt-auto py-8`)
@.planning/phases/46-drawer-consistency-campaign-freeze-fix/46-RESEARCH.md (Pattern 4: SheetContent Flex Layout)

## Tasks

<task id="1">
Modify `SheetHeader` in `components/ui/sheet.tsx` (lines 88-96) to add `shrink-0`.

**Current:**
```tsx
function SheetHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sheet-header"
      className={cn("flex flex-col gap-1.5 py-8", className)}
      {...props}
    />
  )
}
```

**Change to:**
```tsx
function SheetHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sheet-header"
      className={cn("flex flex-col gap-1.5 py-8 shrink-0", className)}
      {...props}
    />
  )
}
```

The only change is adding `shrink-0` to the className string. This prevents the header from shrinking when content overflows.
</task>

<task id="2">
Add a new `SheetBody` component between `SheetHeader` and `SheetFooter` (after line 96, before line 98).

```tsx
function SheetBody({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sheet-body"
      className={cn("flex-1 overflow-y-auto min-h-0 -mx-8 px-8", className)}
      {...props}
    />
  )
}
```

Key classes:
- `flex-1` — takes all available space between header and footer
- `overflow-y-auto` — scrolls when content overflows
- `min-h-0` — required for flex child to actually shrink below content size
- `-mx-8 px-8` — compensates for SheetContent's `px-8` so scrollbar sits at the edge while content has proper padding
</task>

<task id="3">
Modify `SheetFooter` in `components/ui/sheet.tsx` (lines 98-106) to add `shrink-0` and replace `mt-auto` with `border-t pt-4` for visual separation.

**Current:**
```tsx
function SheetFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sheet-footer"
      className={cn("mt-auto flex flex-col gap-2 py-8", className)}
      {...props}
    />
  )
}
```

**Change to:**
```tsx
function SheetFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="sheet-footer"
      className={cn("shrink-0 flex flex-col gap-2 border-t pt-4 pb-8", className)}
      {...props}
    />
  )
}
```

Changes:
- Removed `mt-auto` — with the flex layout (SheetBody takes `flex-1`), footer naturally sits at the bottom
- Added `shrink-0` — prevents footer from shrinking when content overflows
- Changed `py-8` to `border-t pt-4 pb-8` — adds a subtle top border for visual separation from scrollable content, with tighter top padding and original bottom padding preserved
</task>

<task id="4">
Add `SheetBody` to the export list at the bottom of `sheet.tsx`.

**Current (lines 134-143):**
```tsx
export {
  Sheet,
  SheetTrigger,
  SheetClose,
  SheetContent,
  SheetHeader,
  SheetFooter,
  SheetTitle,
  SheetDescription,
}
```

**Change to:**
```tsx
export {
  Sheet,
  SheetTrigger,
  SheetClose,
  SheetContent,
  SheetHeader,
  SheetBody,
  SheetFooter,
  SheetTitle,
  SheetDescription,
}
```
</task>

## Verification

After all tasks:

1. `pnpm typecheck` passes
2. `SheetHeader` className includes `shrink-0`
3. `SheetBody` component exists with `flex-1 overflow-y-auto min-h-0 -mx-8 px-8`
4. `SheetFooter` className includes `shrink-0` and `border-t`, does NOT include `mt-auto`
5. `SheetBody` is exported from the file
6. No existing drawer components break — `SheetBody` is additive (existing drawers that don't use it are unaffected because `SheetContent` is already `flex flex-col`)

## must_haves

- [ ] `SheetHeader` has `shrink-0` so it never shrinks when content overflows
- [ ] `SheetBody` component exists and is exported — applies `flex-1 overflow-y-auto min-h-0` for scrollable content area
- [ ] `SheetFooter` has `shrink-0` and `border-t` for sticky footer with visual separation — `mt-auto` removed
- [ ] `pnpm typecheck` passes
